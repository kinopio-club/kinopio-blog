<html lang="en"><head><title>Bigger, Better Code Blocks</title><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="Save code snippets and give them context"/><meta name="og:title" content="Bigger, Better Code Blocks"/><meta name="og:description" content="Save code snippets and give them context"/><meta name="og:image" content="https://updates.kinopio.club/bigger-better-code-blocks-thumb.png"/><meta name="og:type" content="article"/><link rel="stylesheet" href="/styles/styles.css"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="alternate" type="application/rss+json" href="/feed.json"/></head><body style="background-color:undefined"><div class="content-wrap"><header><div class="title"><a href="/"><img class="hidden" src="/assets/logo-hover.png"/><img class="hidden" src="/assets/logo-active.png"/><div class="logo"></div><h1>Kinopio Blog</h1></a></div></header><nav><a href="https://kinopio.club"><button class="button-to-kinopio">Open Kinopio</button></a></nav><main><article><h1>Bigger, Better Code Blocks</h1><img class="icon updated" src="/assets/updated.gif"/><a href="/"><p class="post-meta post-tag">New Stuff</p></a><a href="/posts/bigger-better-code-blocks/"><span class="post-meta">Oct 23, 2023</span></a><div class="article-content"><hr/><span><p>Kinopio makes it easy to save code snippets and give them context for reference spaces, engineering diagrams, and decision trees.</p>
<p>When you paste code into cards between <code> triple backticks</code>, your code will get syntax highlighting. You can either type the language name after the backticks (e.g. ```js), or select it from the list.</p>
<p>
<video class="wide" autoplay loop muted playsinline>
  <source src="https://updates.kinopio.club/better-code-blocks.mp4">
</video>
</p>
<p>Relatedly, to accommodate larger code snippets, cards with ``` triple backticks can hold more characters (2000).</p>
<p>(Also new is a Copy code button for easily pasting code into your text editor)</p>
<p>
<video class="" autoplay loop muted playsinline>
  <source src="https://updates.kinopio.club/bigger-code-blocks.mp4">
</video>
</p>
<h2>Backstory</h2>
<p>Implementing syntax highlighting was not straightforward. Initially, I thought I had two choices:</p>
<ol>
<li>Use a robust syntax highlighting library that runs in the browser. Which is the fastest and most-straightforward solution, but these libraries are usually 250kb or more – so significantly larger than the rest of Kinopio (and computationally heavy).</li>
<li>Use that library on the server instead. This would keep the bloat out of the browser, but I'd have to deal with the lag-time between updating code and having it's highlighted syntax. This would also put more strain on the server.</li>
</ol>
<p>I didn't love either solution, but was leaning towards #2 because it kept things fastest for the user. Design is often about choosing the least bad tradeoffs.</p>
<p>Then, I received an email from <a href="https://david.tools/ipfs/QmcmSwqEsgscyHbQ4Vi37dhbUTsefA4qRg78wMqKkxzv3L/">David Francisco</a>, whom I'd once interviewed for a job at Glitch. I'm glad he kept in touch because he gave me a suggestion that led me to <a href="https://github.com/xyzshantaram/macrolight">macrolight</a>, a tiny and not-at-all robust syntax highlighting library.</p>
<p>This made me rethink my whole approach.</p>
<p>Syntax highlighting in Kinopio doesn't need the vscode-level accuracy that the popular libraries provide – speed and size matter more here.</p>
<img class="wide" src="https://updates.kinopio.club/codeblocks-wip.png">
<p>So combined with some of my own <a href="https://gist.github.com/pketh/b80e1a6593829a9d690ea78e0efdca77">custom language grammers</a>, I was able to add the good enough + very fast syntax highlighting support that I didn't know I was looking for.</p>
</span></div></article><script src="/assets/js/post.js"></script></main><footer id="footer"><img class="froggo" src="/assets/froggo.png"/><div class="button-wrap"><a href="/feed.json"><button>RSS</button></a></div><div class="button-wrap"><a href="https://twitter.com/KinopioClub"><button>Follow @KinopioClub</button></a></div><div class="button-wrap"><a href="https://kinopio.club"><button class="button-to-kinopio">Kinopio →</button></a></div><div class="sections"><section><h3>Contact Support</h3><ul><li><a href="mailto:hi@kinopio.club"><span class="extended-text">Mail&nbsp;</span><span>hi@kinopio.club</span></a></li><li><a href="https://club.kinopio.club">Support Forum</a></li><li><a href="https://discord.gg/h2sR45Nby8">Discord</a></li></ul></section><section><h3>Spread the word</h3><ul><li><a href="https://www.producthunt.com/posts/kinopio"><span class="extended-text">Featured on&nbsp;</span><span>ProductHunt</span></a></li><li><a href="https://alternativeto.net/software/kinopio/about"><span class="extended-text">Like on&nbsp;</span><span>AlternativeTo</span></a></li><li><a href="https://www.saashub.com/kinopio"><span class="extended-text">Review on&nbsp;</span><span>Saashub</span></a></li></ul></section></div></footer></div><!-- p--><!--   a(href="https://github.com/kinopio-club/kinopio-help") View Source--><canvas id="background"></canvas><canvas id="page-background"></canvas><canvas class="auto-paint" id="canvas-intro"></canvas><canvas class="auto-paint" id="canvas-collaboration"></canvas><canvas class="auto-paint" id="canvas-images"></canvas><canvas class="auto-paint" id="canvas-tags"></canvas><canvas class="auto-paint" id="canvas-comments"></canvas><canvas class="auto-paint" id="canvas-mobile-left"></canvas><canvas class="auto-paint" id="canvas-mobile-right"></canvas><canvas class="auto-paint" id="canvas-cta-bottom"></canvas></body><script src="/assets/js/magic-paint.js"></script></html>